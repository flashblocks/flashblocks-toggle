.wp-block-flashblocks-toggle {
	// 1. Core Dimensions & State Logic
	--switch-w: 60px;
	--switch-h: 32px;
	--switch-p: 4px;
	--thumb-w: calc(var(--switch-h) - (var(--switch-p) * 2));
	--thumb-h: calc(var(--switch-h) - (var(--switch-p) * 2));

	--switch-bg-off: #ccc;
	--switch-active-bg: #4caf50;
	--switch-bg: var(--switch-bg-off);
	--switch-thumb-bg: #fff;
	--thumb-x: 0px;

	display: flex;
	align-items: center;
	position: relative;

	// 2. Active Logic
	&.right {
		--switch-bg: var(--switch-active-bg);
		--thumb-x: calc(var(--switch-w) - var(--thumb-w) - (var(--switch-p) * 2));
	}

	// 3. The Switch Track
	.toggle-switch {
		all: unset;
		display: flex;
		position: relative;
		overflow: hidden;
		cursor: pointer;
		flex-shrink: 0;
		width: var(--switch-w);
		height: var(--switch-h);
		background: var(--switch-bg);
		border-radius: 100px;
		transition: background 0.3s ease;

		&::after {
			content: "";
			position: absolute;
			top: var(--switch-p);
			left: var(--switch-p);
			width: var(--thumb-w);
			height: var(--thumb-h);
			background: var(--switch-thumb-bg);
			border-radius: 100px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
			transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			transform: translateX(var(--thumb-x));
			z-index: 1;
		}

		&:focus-visible {
			outline: 2px solid var(--wp--preset--color--accent-1, #007cba);
			outline-offset: 2px;
		}
	}

	// 4. "Labels Inside" Variant
	&.is-labels-inside {
		--switch-w: 280px;
		--thumb-w: calc(50% - var(--switch-p));

		width: var(--switch-w);
		height: var(--switch-h);
		padding: 0; // Padding handled via absolute positioning of thumb
		background: var(--switch-bg);
		border-radius: 100px;
		transition: background 0.3s ease;
		overflow: hidden;

		&.right {
			--thumb-x: 100%; // Slides by its own width (50% - padding)
		}

		.toggle-switch {
			width: 100%;
			height: 100%;
			background: transparent;

			&::after {
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
			}
		}

		// Text contrast surfacing
		.toggle-label-inner {
			z-index: 2;
			color: rgba(255, 255, 255, 0.7);
			transition: color 0.3s ease;

			&.left {
				color: #000;
			}
		}

		&.right .toggle-label-inner {
			&.left {
				color: rgba(255, 255, 255, 0.7);
			}

			&.right {
				color: #000;
			}
		}
	}

	// 5. Labels & Typography
	.toggle-label-inner {
		flex: 1;
		display: flex;
		align-items: center;
		justify-content: center;
		pointer-events: none;
		user-select: none;
	}

	.toggle-label {
		cursor: pointer;
		user-select: none;
	}
}